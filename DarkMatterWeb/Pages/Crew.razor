@page "/crew"
@using System.IO
@using System.Reflection
@using System.Text
@using DarkMatterWeb.Models
@using DarkMatterWeb.Shared.Crew
@using DarkMatterWeb.Helpers
@using DarkMatterWeb.Services

@inject AirTableService airTableService

<div class="crew-section-1">
    <h1 class="header-primary header-primary--large">Meet the Crew</h1>
</div>

<RadzenDataList WrapItems="true" Data="@CrewMembers" TItem="CrewMember" class="outer-crew" >
    <Template Context="crew">
        <RadzenCard class="inner-crew">
            <Member CrewMember="@crew" />
        </RadzenCard>
    </Template>
</RadzenDataList>
    
          

    @code {

        protected List<CrewMember> CrewMembers { get; set; }

        protected override void OnInitialized()
        {
            base.OnInitialized();
            CrewMembers = AsyncUtil.RunSync(() => airTableService.GetCrewMembersAsync());
        }
    }
